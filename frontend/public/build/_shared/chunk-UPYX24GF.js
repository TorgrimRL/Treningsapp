import{d as o,f as I,g as r}from"/build/_shared/chunk-DLUJ32DX.js";var t=o(I(),1),h=o(r(),1),a=(0,t.createContext)(),p=({children:s})=>{let[i,e]=(0,t.useState)(!1),d=()=>e(!0),l=()=>e(!1),A=n=>e(n),[g,f]=(0,t.useState)(!1),k=import.meta.env.VITE_API_URL;return(0,t.useEffect)(()=>{(async()=>{try{let u=await(await fetch(`${k}/check-auth`,{credentials:"include"})).json();e(u.isLoggedIn),console.log("Auth status checked:",u.isLoggedIn)}catch(c){console.error("Failed to check auth status:",c),e(!1)}finally{f(!0),console.log("isAuthChecked set to true")}})()},[]),(0,h.jsx)(a.Provider,{value:{isLoggedIn:i,login:d,logout:l,setAuthStatus:A,isAuthChecked:g},children:s})},v=()=>{let s=(0,t.useContext)(a);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s};export{p as a,v as b};
