import{d as s,f as k,g as r}from"/build/_shared/chunk-DLUJ32DX.js";var t=s(k(),1),a=s(r(),1),h=(0,t.createContext)(),p=({children:o})=>{let[i,e]=(0,t.useState)(!1),d=()=>e(!0),l=()=>e(!1),A=c=>e(c),[g,f]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{(async()=>{try{let u=await(await fetch("http://localhost:3000/check-auth",{credentials:"include"})).json();e(u.isLoggedIn),console.log("Auth status checked:",u.isLoggedIn)}catch(n){console.error("Failed to check auth status:",n),e(!1)}finally{f(!0),console.log("isAuthChecked set to true")}})()},[]),(0,a.jsx)(h.Provider,{value:{isLoggedIn:i,login:d,logout:l,setAuthStatus:A,isAuthChecked:g},children:o})},x=()=>{let o=(0,t.useContext)(h);if(o===void 0)throw new Error("useAuth must be used within an AuthProvider");return o};export{p as a,x as b};
