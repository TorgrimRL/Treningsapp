import{b as f}from"/build/_shared/chunk-UPYX24GF.js";import{d as t,f as h,g as r}from"/build/_shared/chunk-DLUJ32DX.js";var A=t(h(),1);var a=t(h(),1);var e=t(r(),1);function l(){let[p,b]=(0,a.useState)(""),[d,w]=(0,a.useState)(""),[u,i]=(0,a.useState)(""),{setAuthStatus:x,isLoggedIn:g,isAuthChecked:c}=f(),L=import.meta.env.VITE_API_URL,v=async o=>{o.preventDefault();try{let s=await fetch(`${L}/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:p,password:d})}),m=await s.json();s.ok?(i("Login successful"),x(!0)):(console.log("Login failed:",m.message),i(`Login Failed: ${m.message}`))}catch(s){console.error("Error during login",s),i("An error occurred during login")}};return(0,a.useEffect)(()=>{c&&g&&(window.location.href="/templates")},[g,c]),(0,e.jsxs)("form",{onSubmit:v,style:{maxWidth:"400px",margin:"0 auto",padding:"25px",marginTop:"15px"},children:[(0,e.jsxs)("label",{className:"text-white",children:["Username:",(0,e.jsx)("input",{type:"text",name:"Username",placeholder:"Enter your username here",className:"bg-inputBGGray",value:p,onChange:o=>b(o.target.value),style:{display:"block",margin:"10px 0",padding:"8px",width:"100%"}})]}),(0,e.jsxs)("label",{className:"text-white",children:["Password:",(0,e.jsx)("input",{type:"password",name:"Password",value:d,placeholder:"Enter your password here",className:"bg-inputBGGray",onChange:o=>w(o.target.value),style:{display:"block",margin:"10px 0",padding:"8px",width:"100%"}})]}),(0,e.jsx)("button",{type:"submit",className:"bg-red-600 text-white border-none py-2 px-4 cursor-pointer text-lg",children:"Login"}),u&&(0,e.jsx)("p",{children:u})]})}var n=t(r(),1);function y(){return(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Login Page"}),(0,n.jsx)(l,{})]})}export{y as default};
