import{B as P,o as y}from"/build/_shared/chunk-ZYSMYXEW.js";import"/build/_shared/chunk-M2LT2RZF.js";import{d as r,f as h,g as i}from"/build/_shared/chunk-DLUJ32DX.js";var k=r(h(),1);var o=r(h(),1);P();var e=r(i(),1);function d(){let[c,w]=(0,o.useState)(""),[l,b]=(0,o.useState)(""),[g,x]=(0,o.useState)(""),[u,s]=(0,o.useState)(""),R=y(),v=process.env.REACT_APP_API_URL;return(0,e.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),l!==g){s("Passwords do not match!");return}try{let a=await fetch(`${v}/register`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:c,password:l})});if(console.log("Response:",a),!a.ok){let p=await a.text();console.log("Response text: ",p);try{let m=JSON.parse(p);s(`Registration failed: ${m.message}`)}catch{s(`Registration failed: ${p}`)}return}let C=await a.json();s("Registration successfull, you can now login."),R("/login")}catch(a){console.error("Error during registration",a),s("An error occured during registration")}},style:{maxWidth:"400px",margin:"0 auto",padding:"20px",marginTop:"15px"},children:[(0,e.jsxs)("label",{className:"text-white",children:["Username:",(0,e.jsx)("input",{type:"text",name:"username",className:"bg-inputBGGray",placeholder:"Enter your username here",value:c,onChange:t=>w(t.target.value),style:{display:"block",margin:"10px 0",padding:"8px",width:"100%"}})]}),(0,e.jsxs)("label",{className:"text-white",children:["Password:",(0,e.jsx)("input",{type:"password",name:"password",className:"bg-inputBGGray",placeholder:"Enter your password here",value:l,onChange:t=>b(t.target.value),style:{display:"block",margin:"10px 0",padding:"8px",width:"100%"}})]}),(0,e.jsxs)("label",{className:"text-white",children:["ConfirmPassword:",(0,e.jsx)("input",{type:"password",name:"confirmpassword",className:"bg-inputBGGray",placeholder:"Enter your password here",value:g,onChange:t=>x(t.target.value),style:{display:"block",margin:"10px 0",padding:"8px",width:"100%"}})]}),(0,e.jsx)("button",{type:"submit",className:"bg-red-600 text-white border-none py-2 px-4 cursor-pointer text-lg",children:"Register"}),u&&(0,e.jsx)("p",{children:u})]})}var n=r(i(),1);function f(){return(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Registration Page"}),(0,n.jsx)(d,{})]})}export{f as default};
