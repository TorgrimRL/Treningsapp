import{a as y,b as F1,d as r1,e as A1,f as S1,g as Z1}from"/build/_shared/chunk-T4TVODSB.js";import{a as h1}from"/build/_shared/chunk-A7L52TKV.js";import"/build/_shared/chunk-VQOUZTVV.js";import"/build/_shared/chunk-M2LT2RZF.js";import{b as B1,d as L,f as q,g as b}from"/build/_shared/chunk-DLUJ32DX.js";var G1=B1(s=>{"use strict";var N=Symbol.for("react.element"),m2=Symbol.for("react.portal"),x2=Symbol.for("react.fragment"),M2=Symbol.for("react.strict_mode"),H2=Symbol.for("react.profiler"),V2=Symbol.for("react.provider"),C2=Symbol.for("react.context"),f2=Symbol.for("react.forward_ref"),L2=Symbol.for("react.suspense"),w2=Symbol.for("react.memo"),B2=Symbol.for("react.lazy"),b1=Symbol.iterator;function F2(c){return c===null||typeof c!="object"?null:(c=b1&&c[b1]||c["@@iterator"],typeof c=="function"?c:null)}var k1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P1=Object.assign,T1={};function P(c,t,h){this.props=c,this.context=t,this.refs=T1,this.updater=h||k1}P.prototype.isReactComponent={};P.prototype.setState=function(c,t){if(typeof c!="object"&&typeof c!="function"&&c!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,c,t,"setState")};P.prototype.forceUpdate=function(c){this.updater.enqueueForceUpdate(this,c,"forceUpdate")};function D1(){}D1.prototype=P.prototype;function v1(c,t,h){this.props=c,this.context=t,this.refs=T1,this.updater=h||k1}var e1=v1.prototype=new D1;e1.constructor=v1;P1(e1,P.prototype);e1.isPureReactComponent=!0;var y1=Array.isArray,E1=Object.prototype.hasOwnProperty,i1={current:null},U1={key:!0,ref:!0,__self:!0,__source:!0};function q1(c,t,h){var l,g={},u=null,z=null;if(t!=null)for(l in t.ref!==void 0&&(z=t.ref),t.key!==void 0&&(u=""+t.key),t)E1.call(t,l)&&!U1.hasOwnProperty(l)&&(g[l]=t[l]);var p=arguments.length-2;if(p===1)g.children=h;else if(1<p){for(var d=Array(p),M=0;M<p;M++)d[M]=arguments[M+2];g.children=d}if(c&&c.defaultProps)for(l in p=c.defaultProps,p)g[l]===void 0&&(g[l]=p[l]);return{$$typeof:N,type:c,key:u,ref:z,props:g,_owner:i1.current}}function A2(c,t){return{$$typeof:N,type:c.type,key:t,ref:c.ref,props:c.props,_owner:c._owner}}function o1(c){return typeof c=="object"&&c!==null&&c.$$typeof===N}function S2(c){var t={"=":"=0",":":"=2"};return"$"+c.replace(/[=:]/g,function(h){return t[h]})}var R1=/\/+/g;function l1(c,t){return typeof c=="object"&&c!==null&&c.key!=null?S2(""+c.key):t.toString(36)}function j(c,t,h,l,g){var u=typeof c;(u==="undefined"||u==="boolean")&&(c=null);var z=!1;if(c===null)z=!0;else switch(u){case"string":case"number":z=!0;break;case"object":switch(c.$$typeof){case N:case m2:z=!0}}if(z)return z=c,g=g(z),c=l===""?"."+l1(z,0):l,y1(g)?(h="",c!=null&&(h=c.replace(R1,"$&/")+"/"),j(g,t,h,"",function(M){return M})):g!=null&&(o1(g)&&(g=A2(g,h+(!g.key||z&&z.key===g.key?"":(""+g.key).replace(R1,"$&/")+"/")+c)),t.push(g)),1;if(z=0,l=l===""?".":l+":",y1(c))for(var p=0;p<c.length;p++){u=c[p];var d=l+l1(u,p);z+=j(u,t,h,d,g)}else if(d=F2(c),typeof d=="function")for(c=d.call(c),p=0;!(u=c.next()).done;)u=u.value,d=l+l1(u,p++),z+=j(u,t,h,d,g);else if(u==="object")throw t=String(c),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return z}function W(c,t,h){if(c==null)return c;var l=[],g=0;return j(c,l,"","",function(u){return t.call(h,u,g++)}),l}function Z2(c){if(c._status===-1){var t=c._result;t=t(),t.then(function(h){(c._status===0||c._status===-1)&&(c._status=1,c._result=h)},function(h){(c._status===0||c._status===-1)&&(c._status=2,c._result=h)}),c._status===-1&&(c._status=0,c._result=t)}if(c._status===1)return c._result.default;throw c._result}var w={current:null},I={transition:null},b2={ReactCurrentDispatcher:w,ReactCurrentBatchConfig:I,ReactCurrentOwner:i1};function N1(){throw Error("act(...) is not supported in production builds of React.")}s.Children={map:W,forEach:function(c,t,h){W(c,function(){t.apply(this,arguments)},h)},count:function(c){var t=0;return W(c,function(){t++}),t},toArray:function(c){return W(c,function(t){return t})||[]},only:function(c){if(!o1(c))throw Error("React.Children.only expected to receive a single React element child.");return c}};s.Component=P;s.Fragment=x2;s.Profiler=H2;s.PureComponent=v1;s.StrictMode=M2;s.Suspense=L2;s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b2;s.act=N1;s.cloneElement=function(c,t,h){if(c==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+c+".");var l=P1({},c.props),g=c.key,u=c.ref,z=c._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,z=i1.current),t.key!==void 0&&(g=""+t.key),c.type&&c.type.defaultProps)var p=c.type.defaultProps;for(d in t)E1.call(t,d)&&!U1.hasOwnProperty(d)&&(l[d]=t[d]===void 0&&p!==void 0?p[d]:t[d])}var d=arguments.length-2;if(d===1)l.children=h;else if(1<d){p=Array(d);for(var M=0;M<d;M++)p[M]=arguments[M+2];l.children=p}return{$$typeof:N,type:c.type,key:g,ref:u,props:l,_owner:z}};s.createContext=function(c){return c={$$typeof:C2,_currentValue:c,_currentValue2:c,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},c.Provider={$$typeof:V2,_context:c},c.Consumer=c};s.createElement=q1;s.createFactory=function(c){var t=q1.bind(null,c);return t.type=c,t};s.createRef=function(){return{current:null}};s.forwardRef=function(c){return{$$typeof:f2,render:c}};s.isValidElement=o1;s.lazy=function(c){return{$$typeof:B2,_payload:{_status:-1,_result:c},_init:Z2}};s.memo=function(c,t){return{$$typeof:w2,type:c,compare:t===void 0?null:t}};s.startTransition=function(c){var t=I.transition;I.transition={};try{c()}finally{I.transition=t}};s.unstable_act=N1;s.useCallback=function(c,t){return w.current.useCallback(c,t)};s.useContext=function(c){return w.current.useContext(c)};s.useDebugValue=function(){};s.useDeferredValue=function(c){return w.current.useDeferredValue(c)};s.useEffect=function(c,t){return w.current.useEffect(c,t)};s.useId=function(){return w.current.useId()};s.useImperativeHandle=function(c,t,h){return w.current.useImperativeHandle(c,t,h)};s.useInsertionEffect=function(c,t){return w.current.useInsertionEffect(c,t)};s.useLayoutEffect=function(c,t){return w.current.useLayoutEffect(c,t)};s.useMemo=function(c,t){return w.current.useMemo(c,t)};s.useReducer=function(c,t,h){return w.current.useReducer(c,t,h)};s.useRef=function(c){return w.current.useRef(c)};s.useState=function(c){return w.current.useState(c)};s.useSyncExternalStore=function(c,t,h){return w.current.useSyncExternalStore(c,t,h)};s.useTransition=function(){return w.current.useTransition()};s.version="18.3.1"});var n1=B1((O2,O1)=>{"use strict";O1.exports=G1()});var z4=L(q(),1);var V=L(q(),1);var T=L(n1(),1);var z1=L(n1(),1),d1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},g1=z1.default.createContext&&z1.default.createContext(d1);var y2=["attr","size","title"];function R2(c,t){if(c==null)return{};var h=k2(c,t),l,g;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(c);for(g=0;g<u.length;g++)l=u[g],!(t.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(c,l)&&(h[l]=c[l])}return h}function k2(c,t){if(c==null)return{};var h={};for(var l in c)if(Object.prototype.hasOwnProperty.call(c,l)){if(t.indexOf(l)>=0)continue;h[l]=c[l]}return h}function _(){return _=Object.assign?Object.assign.bind():function(c){for(var t=1;t<arguments.length;t++){var h=arguments[t];for(var l in h)Object.prototype.hasOwnProperty.call(h,l)&&(c[l]=h[l])}return c},_.apply(this,arguments)}function W1(c,t){var h=Object.keys(c);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(c);t&&(l=l.filter(function(g){return Object.getOwnPropertyDescriptor(c,g).enumerable})),h.push.apply(h,l)}return h}function $(c){for(var t=1;t<arguments.length;t++){var h=arguments[t]!=null?arguments[t]:{};t%2?W1(Object(h),!0).forEach(function(l){P2(c,l,h[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(h)):W1(Object(h)).forEach(function(l){Object.defineProperty(c,l,Object.getOwnPropertyDescriptor(h,l))})}return c}function P2(c,t,h){return t=T2(t),t in c?Object.defineProperty(c,t,{value:h,enumerable:!0,configurable:!0,writable:!0}):c[t]=h,c}function T2(c){var t=D2(c,"string");return typeof t=="symbol"?t:t+""}function D2(c,t){if(typeof c!="object"||!c)return c;var h=c[Symbol.toPrimitive];if(h!==void 0){var l=h.call(c,t||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(c)}function j1(c){return c&&c.map((t,h)=>T.default.createElement(t.tag,$({key:h},t.attr),j1(t.child)))}function I1(c){return t=>T.default.createElement(E2,_({attr:$({},c.attr)},t),j1(c.child))}function E2(c){var t=h=>{var{attr:l,size:g,title:u}=c,z=R2(c,y2),p=g||h.size||"1em",d;return h.className&&(d=h.className),c.className&&(d=(d?d+" ":"")+c.className),T.default.createElement("svg",_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},h.attr,l,z,{className:d,style:$($({color:c.color||h.color},h.style),c.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),u&&T.default.createElement("title",null,u),c.children)};return g1!==void 0?T.default.createElement(g1.Consumer,null,h=>t(h)):t(d1)}function _1(c){return I1({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(c)}var Q1=L(h1(),1);var X2=L(q(),1),$1=L(h1(),1),K=L(q(),1),S=L(b(),1);function s1({isOpen:c,onRequestClose:t,mesocycle:h,currentDayIndex:l,onDayClick:g}){let u=(0,K.useRef)(null);(0,K.useEffect)(()=>{let d=M=>{u.current&&!u.current.contains(M.target)&&t()};return c&&(document.addEventListener("mousedown",d),document.addEventListener("touchstart",d)),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("touchstart",d)}},[c,t]);let z=h.weeks,p=h.daysPerWeek;return(0,S.jsx)($1.default,{isOpen:c,onRequestClose:t,contentLabel:"Calendar Modal",shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,className:"bg-gray-800 rounded focus:outline-none shadow-lg p-0 max-w-3xl mx-auto mt-20 text-2sm ",overlayClassName:"fixed inset-0 flex items-start justify-center bg-black bg-opacity-50 z-50 ",style:{content:{background:"transparent",border:"none",padding:0,inset:"unset",maxWidth:"none"}},children:(0,S.jsx)("div",{className:"  max-height: vh p-4 bg-darkGray",children:(0,S.jsx)("div",{className:"grid gap-0 text-center transform scale-75",style:{gridTemplateColumns:`repeat(${z}, 1fr)`,gridTemplateRows:`repeat(${p}, auto)`},children:Array.from({length:z}).map((d,M)=>(0,S.jsxs)("div",{className:"border-transparent text-center bg-black-600 text-white",children:[(0,S.jsxs)("h3",{className:"font-semibold mb-2 text-xs uppercase flex items-center justify-center",children:["Week ",M+1]}),(0,S.jsx)("ul",{className:"list-none p-0 m-0 space-y-0",children:Array.from({length:p}).map((m1,Z)=>{let R=h.plan[M*p+Z];return R?(0,S.jsx)("li",{className:`border p-0 mb-1 cursor-pointer text-xs uppercase min-w-[75px] min-h-[50px] flex items-center justify-center ${l===M*p+Z?"bg-red-500":"bg-darkestGray"}`,onClick:()=>{console.log("Day item clicked:",M*p+Z),g(M*p+Z)},children:R.label?`${R.label}`:`Day ${Z+1}`},Z):null})})]},M))})})})}var Q=L(q(),1),u1=L(h1(),1),F=L(b(),1);u1.default.setAppElement("#root");var U2=({isOpen:c,onRequestClose:t,note:h,onNoteChange:l,onSave:g})=>{(0,Q.useEffect)(()=>{console.log("NoteModal visibility:",c)},[c]);let[u,z]=(0,Q.useState)(!1);return(0,F.jsxs)(u1.default,{isOpen:c,onRequestClose:t,contentLabel:"Template Overview",className:" relative bg-darkGray text-white rounded focus:outline-none shadow-lg p-0 max-w-3xl mx-auto mt-20 text-2sm ",overlayClassName:"fixed inset-0 flex items-start justify-center bg-black bg-opacity-50 z-50 ",children:[(0,F.jsx)("button",{onClick:t,className:" absolute top-0 right-2 m-0 text-3xl text-white-600 hover:text-gray-800",children:"\xD7"}),(0,F.jsx)("header",{className:"bold text-2xl mb-4 mt-2 border-b-1 border-inputBGGray",children:"Add/Edit Note"}),(0,F.jsx)("textarea",{value:h,onChange:d=>l(d.target.value),placeholder:"Type your note here...",style:{width:"100%",height:"100px",marginBottom:"20px"},className:"bg-inputBGGray"}),(0,F.jsx)("input",{type:"checkbox",checked:u,onChange:d=>z(d.target.checked),className:"scale-125",style:{width:"20px",height:"20px",marginTop:"10px",marginLeft:"10px",marginRight:"10px"}}),(0,F.jsx)("label",{children:"Apply to future weeks "}),(0,F.jsxs)("div",{className:"flex justify-center mt-20 mb-2",children:[(0,F.jsx)("button",{onClick:()=>{g(u),t()},className:"flex items-center justify-center bg-red-600 text-white border-none py-2 px-4 cursor-pointer text-lg",children:"Save"}),(0,F.jsx)("button",{onClick:t,className:"flex items-center justify-center bg-inputNRGrey text-white border-none py-2 px-4 cursor-pointer text-lg",children:"Cancel"})]})]})},K1=U2;var v=L(b(),1);Q1.default.setAppElement("#root");function p1(){let[c,t]=(0,V.useState)([]),[h,l]=(0,V.useState)(!0),[g,u]=(0,V.useState)(!1),[z,p]=(0,V.useState)(null),[d,M]=(0,V.useState)({}),m1=(0,V.useRef)(null),[Z,R]=(0,V.useState)({}),Y=(0,V.useRef)([]),[J1,x1]=(0,V.useState)({}),M1=(0,V.useRef)([]),[J,H1]=(0,V.useState)({}),[X1,X]=(0,V.useState)(!1),[D,V1]=(0,V.useState)(""),[C1,c2]=(0,V.useState)(null),t2=a=>{for(let r=0;r<a.length;r++)if(!a[r].exercises.every(e=>e.sets?e.sets.every(n=>n.completed):!1))return r;return a.length-1},a2=a=>{V1(a)},h2=async a=>{if(C1){let{dayIndex:r,exerciseIndex:o}=C1,i=c.daysPerWeek;H1(n=>{let m={...n};if(a){let x=r%i;for(let H=r;H<c.plan.length;H+=i)H%i===x&&(m[H]=m[H]||{},m[H][o]=D)}else m[r]={...m[r],[o]:D};return m});let e={...c,plan:c.plan.map((n,m)=>a?m%i===r%i?{...n,exercises:n.exercises.map((x,H)=>H===o?{...x,note:D}:x)}:n:m===r?{...n,exercises:n.exercises.map((x,H)=>H===o?{...x,note:D}:x)}:n)};try{let n=await fetch(`http://localhost:3000/api/mesocycles/${c.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!n.ok){let m=await n.text();throw new Error(`Failed to update mesocycle: ${m}`)}}catch(n){console.error("Error updating mesocycle:",n)}X(!1)}},r2=(0,V.useCallback)(a=>{x1(r=>({...r,[a]:!r[a]}))},[]),l2=(0,V.useCallback)(a=>{R(r=>({...r,[a]:!r[a]}))},[]);(0,V.useEffect)(()=>{let a=r=>{let o=!0;Y.current.forEach(i=>{i&&i.contains(r.target)&&(o=!1)}),Object.values(M1.current).forEach(i=>{i&&i.contains(r.target)&&(o=!1)}),o&&(R({}),x1({}))};return document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),()=>{document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a)}},[Y]);let v2=(a,r,o,i)=>{M(e=>({...e,[a]:{...e[a],[r]:e[a][r].map((n,m)=>m===o?{...n,reps:i,completed:!1}:n)}}))},e2=(a,r,o,i,e)=>{let n=parseFloat(i),m=e==="dumbbell"?2:2.5,{week:x}=t1(a,c.daysPerWeek);M(H=>({...H,[a]:{...H[a],[r]:H[a][r].map((f,C)=>{if(C===o||o===0&&!f.completed){let k=parseFloat(f.targetWeight),U=parseInt(f.targetReps,10),O=(n-k)/m,B=U-O*2;return Math.abs(O)>3?x<=2?B="3 RIR":x===3?B="2 RIR":x>=4&&(B="0/1 RIR"):B=Math.round(B),{...f,weight:n,reps:B,completed:!1}}return f})}}))},i2=(a,r)=>{let o=c.daysPerWeek;M(i=>{let e={...i};for(let n=a;n<Object.keys(i).length;n+=o)e[n]={...e[n],[r]:[...e[n]?.[r]||[],{weight:"",reps:"",completed:!1}]};return e})},o2=(a,r,o)=>{M(i=>{let n=[...i[a][r]].filter((m,x)=>x!==o);return{...i,[a]:{...i[a],[r]:n}}})},n2=()=>u(!0);if((0,V.useEffect)(()=>{(async()=>{try{let o=await(await fetch("http://localhost:3000/api/current-workout",{method:"GET",credentials:"include"})).json();console.log("Mesocycle Data:",o),t(o);let i=t2(o.plan);p(i);let e={},n={};o.plan.forEach((m,x)=>{n[x]={},e[x]={},m.exercises.forEach((H,f)=>{n[x][f]=H.sets||[],e[x][f]=H.note||""})}),H1(e),M(n)}catch(r){console.error("Error fetching mesocycles",r)}finally{l(!1)}})()},[]),h)return(0,v.jsx)("div",{children:"Loading..."});let z2=async a=>{try{let o=await(await fetch("http://localhost:3000/api/current-workout",{method:"GET",credentials:"include"})).json();console.log("Updated Mesocycle Data:",o),t(o),p(a);let i={};o.plan.forEach((e,n)=>{i[n]={},e.exercises.forEach((m,x)=>{i[n][x]=m.sets||[]})}),M(i),u(!1)}catch(r){console.error("Error fetching workout data:",r)}},d2=a=>["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].includes(a.label)?a.label:"",c1=c.plan[z],t1=(a,r)=>{let o=Math.floor(a/r)+1,i=a%r+1;return{week:o,day:i}},{week:E,day:g2}=t1(z,c.daysPerWeek),s2=async(a,r,o,i,e,n)=>{M(m=>{let x={...m,[a]:{...m[a],[r]:m[a][r].map((C,A)=>A===o?i?{...C,completed:i,weight:e,reps:n}:{...C,completed:!1,weight:C.targetWeight,reps:C.targetReps}:C)}},H={...c,plan:c.plan.map((C,A)=>A===a?{...C,exercises:C.exercises.map((k,U)=>U===r?{...k,sets:x[a][r]}:k)}:C)},f=u2(c.plan,H.plan);return(async()=>{try{let C=await fetch(`http://localhost:3000/api/mesocycles/${c.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(H)});if(!C.ok){let A=await C.text();throw new Error(`Failed to update mesocycle: ${A}`)}console.log("Successfully updated mesocycle")}catch(C){console.error("Error updating mesocycle:",C)}})(),x})};function u2(a,r){let o=[];return r.forEach((i,e)=>{i.exercises.forEach((n,m)=>{n.sets.forEach((x,H)=>{let f=a[e].exercises[m].sets[H];(f.weight!==x.weight||f.reps!==x.reps||f.completed!==x.completed)&&o.push({dayIndex:e,exerciseIndex:m,setIndex:H,changes:{weight:{from:f.weight,to:x.weight},reps:{from:f.reps,to:x.reps},completed:{from:f.completed,to:x.completed}}})})})}),o}let f1=[];for(let a=1;a<=30;a++)f1.push(a);let L1=[];for(let a=2;a<100;a+=2)L1.push(a);let w1=[];for(let a=2.5;a<=400;a+=2.5)w1.push(a);let p2=(a,r,o,i,e,n)=>{if(i===1)return"noEvaluation";let m=r==="dumbbell"?2:2.5,x=parseFloat(a.targetWeight),H=parseInt(a.targetReps,10),f=parseFloat(a.weight),C=parseInt(a.reps,10),A=f-x,k=3*m,U=A/m,O=H-U*2,B=Math.round(O),a1=Math.abs(A)<=k,q2=C>=B;return a1&&C===B?"target":a1&&C>B?"above":!a1||C<B?"below":"offTarget"};return(0,v.jsxs)("div",{className:"pt-6",children:[(0,v.jsx)("h1",{className:"text-sm text-gray-500 bg-darkGray sticky top-12 pl-4 uppercase",children:c.name}),c1?(0,v.jsxs)("div",{className:"mb-4",children:[(0,v.jsxs)("div",{className:"p-1 text-white bg-darkGray mb-1 flex items-center justify-between sticky top-16 ",children:[(0,v.jsxs)("div",{className:"space-x-2 pl-3 mr-auto",children:[(0,v.jsx)("span",{className:"font-semibold uppercase",children:E===c.weeks?"DELOAD WEEK":`Week ${E} Day ${g2} ${d2(c1)}`})," "]}),(0,v.jsx)(_1,{className:"text-white cursor-pointer text-xl -ml-4",onClick:n2,style:{transform:"translateX(-10px)"}})," "]}),(0,v.jsx)("div",{className:"overflow-y-auto max-h-[calc(100vh-150px)] ",children:(0,v.jsxs)("ul",{className:"list-none list-inside text-white ",children:[c1.exercises.map((a,r)=>(0,v.jsxs)("li",{className:"p-3 overflow-auto bg-darkGray",children:[(0,v.jsxs)("div",{className:"flex justify-between items-center relative",ref:o=>Y.current[r]=o,children:[(0,v.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,v.jsx)("span",{className:"text-sm text-white border uppercase border-red-500 bg-darkBackgroundRed inline-block w-auto px-2 py-1",children:a.muscleGroup}),(0,v.jsx)("span",{className:"text-sm text-gray-500 uppercase",children:a.priority||"none"})]}),(0,v.jsx)("button",{onClick:()=>{l2(r)},className:"text-white focus:outline-none ",children:(0,v.jsx)(y,{icon:r1})}),Z[r]&&(0,v.jsx)("div",{className:"absolute right-0 top-full mt-1 w-48 rounded-md shadow-lg z-10",children:(0,v.jsx)("ul",{className:"py-1 bg-hamburgerbackground ",children:(0,v.jsx)("li",{className:"block px-4 py-2 hover:!bg-darkestGray",children:(0,v.jsx)("button",{onClick:o=>{o.stopPropagation(),c2({dayIndex:z,exerciseIndex:r});let i=J[z]?.[r]||"";V1(i),X(!0)},className:" block text-white focus:outline-none ",children:"Add note"})})})})]}),(0,v.jsx)("div",{className:"text-white font-semibold",children:a.exercise}),J[z]?.[r]&&(0,v.jsxs)("div",{className:"mt-2 bg-yellow-500 text-white p-2",children:[(0,v.jsx)(y,{icon:Z1,style:{marginRight:"10px"}}),J[z][r]]}),d[z]?.[r]?.map((o,i)=>(0,v.jsxs)("div",{className:"flex flex-row items-stretch items-center space-y-0 mb-4 border-b border-gray-600 pb-2",children:[(0,v.jsxs)("div",{className:"relative ",children:[(0,v.jsx)("button",{onClick:()=>{r2(`${r}-${i}`)},className:"text-white focus:outline-none mt-8 ",children:(0,v.jsx)(y,{icon:r1})}),J1[`${r}-${i}`]&&(0,v.jsx)("div",{ref:e=>M1.current[`${r}-${i}`]=e,className:"absolute left-full ml-1 top-5 w-48 bg-white rounded-md shadow-lg z-10",children:(0,v.jsxs)("ul",{className:"py-1 bg-hamburgerbackground text-white ",children:[(0,v.jsx)("li",{className:"block px-4 py-2 hover:!bg-darkestGray z-20",children:(0,v.jsx)("button",{onClick:e=>{console.log("Button clicked for adding set"),e.stopPropagation(),i2(z,r)},className:" focus:outline-none block w-full text-left cursor-pointer",children:"ADD SET"})}),(0,v.jsx)("li",{className:"block px-4 py-2 hover:bg-darkGray",children:(0,v.jsx)("button",{onClick:e=>{e.stopPropagation(),o2(z,r,i)},className:" focus:outline-none block w-full text-left cursor-pointer",children:"REMOVE SET"})})]})})]}),(0,v.jsxs)("div",{className:"flex flex-col items-center space-y-1 flex-grow",children:[(0,v.jsx)("label",{className:"text-center h-6 flex items-center justify-center",children:"WEIGHT"}),(0,v.jsxs)("select",{value:o.weight||o.targetWeight||"",onChange:e=>{console.log(`Exercise type before change: ${a.type}`),e2(z,r,i,e.target.value,a.type)},className:"bg-inputBGGray text-center border-black w-20 rounded p-1",children:[(0,v.jsx)("option",{value:"Choose weight"}),a.type==="dumbbell"?L1.map(e=>(0,v.jsx)("option",{value:e,children:e},e)):w1.map(e=>(0,v.jsx)("option",{value:e,children:e},e))]})]}),(0,v.jsxs)("div",{className:"flex flex-col items-center space-y-1 flex-grow relative",children:[(0,v.jsx)("label",{className:"text-center h-6 flex items-center justify-center ",children:"REPS"}),(0,v.jsxs)("select",{value:typeof o.reps=="string"?o.reps:o.reps||!o.completed&&o.targetReps||"",onChange:e=>v2(z,r,i,e.target.value),className:"bg-inputBGGray text-center border-black w-full rounded p-1",children:[f1.map(e=>(0,v.jsx)("option",{value:e,children:e},e)),E<=2&&(0,v.jsx)("option",{value:"3 RIR",disabled:!0,children:"3 RIR"}),E===3&&(0,v.jsx)("option",{value:"2 RIR",disabled:!0,children:"2 RIR"}),E>=4&&(0,v.jsx)("option",{value:"0/1 RIR",disabled:!0,children:"0/1 RIR"})]})]}),(0,v.jsx)("div",{className:"flex items-center justify-center ml-2 relative",children:(()=>{let{week:e}=t1(z,c.daysPerWeek),n=p2(o,a.type,z,e,i,r),m={top:"50%",transform:"translateY(-10%)"};return n==="noEvaluation"?null:n==="target"?(0,v.jsx)(y,{icon:F1,className:" mt-2 ml-0 text-white-500 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",style:m}):n==="above"?(0,v.jsx)(y,{icon:S1,className:" mt-2 ml-0 text-white-500 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",style:m}):n==="below"?(0,v.jsx)(y,{icon:A1,className:"mt-2 ml-0text-white-500 absolute  top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",style:m}):null})()}),(0,v.jsxs)("div",{className:"flex flex-col items-center space-y-1 flex-grow",children:[(0,v.jsx)("label",{className:"text-center h-6 flex items-center justify-center",children:"LOG"}),(0,v.jsx)("input",{type:"checkbox",checked:d[z]?.[r]?.[i]?.completed||!1,onChange:e=>s2(z,r,i,e.target.checked,d[z]?.[r]?.[i]?.weight||"",d[z]?.[r]?.[i]?.reps||""),className:"scale-125",style:{width:"20px",height:"20px",marginTop:"10px"}})]})]},i))," "]},r))," "]})})]}):(0,v.jsx)("div",{className:"text-red-500",children:"No current workout found"}),(0,v.jsx)(s1,{isOpen:g,onRequestClose:()=>u(!1),mesocycle:c,currentDayIndex:z,onDayClick:z2,calendarIconRef:m1,children:(0,v.jsx)("h2",{children:"Mesocycle Overview"})}),(0,v.jsx)(K1,{isOpen:X1,onRequestClose:()=>X(!1),note:D,onNoteChange:a2,onSave:h2})]})}var G=L(b(),1);function Y1(){return(0,G.jsxs)("div",{style:{paddingTop:"30px"},children:[(0,G.jsx)(p1,{}),(0,G.jsx)("div",{id:"root"})]})}export{Y1 as default};
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
